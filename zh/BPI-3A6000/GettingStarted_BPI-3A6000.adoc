= Loongnix GNU/Linux 20系统安装指导

== 安装盘制作

* 下载系统镜像 iso 文件

在官方网站上下载最新版本的 Loongnix 操作系统镜像iso文件。

下载地址： http://pkg.loongnix.cn/loongnix/isos/

* DVD安装盘制作

刻录光盘时，安装映像必须使用 DVD光盘（不能使用普通 CD 光盘），并且 DVD 光盘的容量必须大于iso文件（2.9GB）的大小，然后使用刻录工具刻录镜像（推荐 Loongnix 自带刻录工具 brasero）。

* U盘安装盘制作

制作 LiveUSB 安装盘，需要准备: 

** 1.一个 4GB 以上的 U 盘；
** 2. 一台正常运行的 Linux 主机。 

在 linux 主机上插入 U 盘，可通过 fdisk ‐l 或者 lsblk 命令查看系统识别的U盘设备，/dev/sdb。
启动终端，使用dd命令进行镜像制作，命令（需要root用户权限）如下：

```sh
# dd if=Loongnix-20.5.livecd.loongarch64.iso of=/dev/sdb bs=8M 
# sync
```
完成后拔掉 U 盘。

== 安装步骤

Loongnix 桌面版 Livecd 安装镜像，支持安装 "mate 桌面环境" 或者 "cartoon 桌面环境"。

=== 引导

主机启动后，出现” LOONGSON龙芯 “字样，按 F2 键进入BIOS，如图：

image::/3a6000/docs_linux_1.jpg[docs_linux_1.jpg]

用键盘 上↑下 ↓ 键，移动到”启动管理“项，如图：

image::/3a6000/docs_linux_2.jpg[docs_linux_2.jpg]

按”Enter“键，进入”启动管理菜单“，

两种安装引导方式：光盘引导、U盘引导，选择其中一种安装方式引导。

用键盘 上↑下 ↓ 键，移动到”UEFI GeneraluDisk“项，如图：

image::/3a6000/docs_linux_3.jpg[docs_linux_3.jpg]

按”Enter“键，开始引导安装。

引导安装，如图：

image::/3a6000/docs_linux_4.jpg[docs_linux_4.jpg]

=== 许可协议

Livecd 安装镜像进入图形界面后，自动启动 Loongnix 安装器程序并弹出《Loongnix 操作系统最终用户许可协议》，如图：

image::/3a6000/docs_linux_5.jpg[docs_linux_5.jpg]

在许可协议页面，阅读 Loongnix 操作系统最终用户许可协议，勾选 "我已阅读并同意许可协议" 后，点击"下一步" 。

=== 选择语言

安装程序自动检测并选中符合您当前环境的安装器语言，缺省为“简体中文”，您也可切换成其他语言。如图：

image::/3a6000/docs_linux_6.jpg[docs_linux_6.jpg]

选择语言后，点击 "下一步"。

=== 选择地区、系统语言

选择地区、区域、系统语言、数字和日期地域，也可以直接在地图中点击需要选择的区域。 安装程序默认检测符合当前环境的设置，如图：

image::/3a6000/docs_linux_7.jpg[docs_linux_7.jpg]

设置好后，点击 "下一步"。

=== 选择键盘布局

安装器会自动检测出适合您当前环境的键盘类型。如下图：

image::/3a6000/docs_linux_8.jpg[docs_linux_8.jpg]

点击 "下一步"。

=== 选择分区

安装器提供三种安装系统的分区方式: 取代一个分区、抹除磁盘(新手推荐)、

默认分区格式：

[options="header",cols="1,1"]
|====
|分区 	|文件系统 
|/boot 	|ext3 
|/	|XFS
|交换分区	|swap
|====

** (i) 取代一个分区安装 

选择“取代一个分区”，Loongnix 系统将替代一个分区，该分区至少需要 10G 才可安装，如图：

image::/3a6000/docs_linux_9.jpg[docs_linux_9.jpg]

** (ii) 抹除磁盘安装 

选择“擦除磁盘”，Loongnix 系统将抹除磁盘，进行全盘安装，如图：

image::/3a6000/docs_linux_10.jpg[docs_linux_10.jpg]

** (iii) 手动分区安装 

选择手动分区，如图：

image::/3a6000/docs_linux_11.jpg[docs_linux_11.jpg]

点击 "下一步"，用户可以自定义分区。

需要注意的是：第一个分区必须先分 /boot 分区，文件系统类型建议为 ext3，

需要注意的是：如果 BIOS 为 uefi bios，需要增加 /boot/efi 分区，/boot/efi 分区需要为 fat32 格式，大小 300M 左右。

image::/3a6000/docs_linux_12.jpg[docs_linux_12.jpg]

分区按需求配置完后，点击“下一步”。

=== 新建第一个用户

新建一个用户用来登录操作系统，设置用户名和密码，如图: 

image::/3a6000/docs_linux_13.jpg[docs_linux_13.jpg]

完成后，点击“下一步”。

=== 安装基本系统

设置完所有的配置选项之后，进入 "摘要" 页面。 

"摘要" 页面用于显示开始安装后会发生的配置概览。再次确认无误后，点击 "安装"，如图：

image::/3a6000/docs_linux_14.1.jpg[docs_linux_14.1.jpg]

下图是正在安装系统的界面，请耐心等候。。。。。。

image::/3a6000/docs_linux_15.jpg[docs_linux_15.jpg]


=== 桌面选择

用户在安装 Loongnix 操作系统时，需要在 "桌面环境选择" 界面，选择安装 "mate 桌面环境" 或者 "cartoon 桌面环境"，推荐使用“cartoon 桌面环境”。 

** (i) 选择 "mate 桌面环境" 

点击 "桌面环境" 列表中的 "mate 桌面环境"，弹出 mate 桌面环境对话框。点击 "确认" 按钮后，进行下一步操作，如图：

image::/3a6000/docs_linux_16.jpg[docs_linux_16.jpg]

** (2) 选择 "cartoon 桌面环境" 

点击 "桌面环境" 列表中的 "cartoon 桌面环境"，弹出转动的 "齿轮" 动图，需要等待 3～5 分钟。3～5 分钟后 cartoon 桌面环境安装完成，弹出 cartoon 桌面环境对话框。

image::/3a6000/docs_linux_17.jpg[docs_linux_17.jpg]

点击 "确认" 按钮后，进行下一步操作，如图：

image::/3a6000/docs_linux_18.jpg[docs_linux_18.jpg]

点击“安装”。

=== 完成安装

下图是 Loongnix 系统安装完成的界面：

image::/3a6000/docs_linux_19.jpg[docs_linux_19.jpg]

勾选 "现在重启"，点击 "完成"。

= 统信桌面操作系统V20安装指导

== 安装盘制作

** 1）下载系统镜像iso文件

官方渠道获取镜像，进入统信软件官网，选择产品统信桌面操作系统，下载最新版本的统信桌面操作系统镜像文件。

统信UOS桌面专业版LoongArch64（1070版本）下载地址：
https://www.chinauos.com/resource/download-professional

* 2）U盘安装盘制作

统信 UOS 操作系统已经预装集成了启动盘制作工具，可以在启动器中打开启动盘制作工具，将镜像文件制作成系统启动盘。

Windows 系统可以从光盘镜像中解压启动盘制作工具（deepin-boot-maker.exe）到电脑中使用；也可以访问官网下载指定版本的启动盘制作工具来使用。

注意事项：

** 制作启动盘前请提前备份 U 盘中的数据，制作时会清除 U 盘所有数据
** 制作前建议将 U 盘格式化为 FAT32 格式，以提高识别率
** 部分 U 盘实则为移动硬盘，因此无法识别，请更换为正规 U 盘
** U 盘容量大小不得小于 8GB，否则无法成功制作启动盘 
** 在制作启动盘过程中，请不要移除 U 盘，以防数据损坏或者丢失。

操作步骤 

* i. 连接 U 盘与电脑的 USB 接口，打开启动盘制作工具。 
* ii. 在启动盘工具界面选择需要制作的镜像文件，点击“下一步”选择 U 盘。 
* iii. 单击“开始”，制作启动盘，直至制作完成。

== 安装步骤

=== 引导

主机启动后，出现” LOONGSON龙芯 “字样，按 F2 键进入BIOS，如图：

image::/3a6000/docs_linux_1.jpg[docs_linux_1.jpg]

用键盘 上↑下 ↓ 键，移动到”启动管理“项，如图：

image::/3a6000/docs_linux_2.jpg[docs_linux_2.jpg]

按”Enter“键，进入”启动管理菜单“，

两种安装引导方式：光盘引导、U盘引导，选择其中一种安装方式引导。

用键盘 上↑下 ↓ 键，移动到”UEFI GeneraluDisk“项，如图：

image::/3a6000/docs_linux_3.jpg[docs_linux_3.jpg]

按”Enter“键，开始引导安装。

安装引导菜单中默认选中第一项“Install UOS desktop 20”引导安装，如图：

image::/3a6000/docs_uos_2.jpg[docs_uos_2.jpg]

选择内核版本：统信桌面操作系统 V20 1070 版本自带双内核：4.19 内核和 5.10 内核。默认安装 4.19 版本内核，若需要安装 5.10 版本内核，可以进入引导菜单中的 “Other Options”选项，选择内核版。

按下回车键或等待 5 秒可自动进入安装界面。

=== 选择语言

安装程序第一步是选择语言，系统安装程序会根据配置语言显示界面文字，默认语言为：简体中文。

image::/3a6000/docs_uos_3.jpg[docs_uos_3.jpg]

阅读许可协议：

在选择语言界面，选择需要安装的语言（以简体中文为例），并勾选“我已仔细阅读并同意《最终用户许可协议》和《隐私政策》”，“《统信操作系统用户体验计划许可协议》”可以选择性勾选，不影响系统安装。 

点击“下一步”进入镜像校验步骤，此时会校验当前镜像的完整性和安全性，镜像校验通过后才可进入下一步安装环节，请耐心等待片刻。

image::/3a6000/docs_uos_4.jpg[docs_uos_4.jpg]

退出安装 ：

在系统安装界面单击右上角的关闭按钮，会弹出关闭窗口，并显示相关提示信息，此时可以选择继续安装操作或终止安装操作，如图：

image::/3a6000/docs_uos_5.jpg[docs_uos_5.jpg]

进入确认安装前可随时退出安装程序，退出后所有操作均不会生效，不会修改或删除您的数据。 

** 取消：返回到单击关闭按钮之前的页面，可以继续进行系统安装操作。 
** 确定：退出安装并关闭计算机。在系统安装之前，如果用户需要退出安装器，界面右上角都会显示关闭按钮，用户可以随时终止系统安装而不会对当前磁盘和系统产生任何影响。

=== 选择安装方式

选择语言后进入安装导航页，统信桌面操作系统安装器提供 2 种安装方式：全盘安装和手动安装，如图 ： 

image::/3a6000/docs_uos_6.jpg[docs_uos_6.jpg]

* 全盘安装模式无需用户手动创建分区，可以为用户自动分区； 

* 手动安装模式下需要用户自行配置各分区大小和格式等信息，需要对系统分区配置有一定了解。 

用户可根据需要选择适合的方式来安装系统。

=== 全盘安装

选择硬盘：进入全盘安装页面后，安装器会自动检测当前挂载的磁盘，如图：

image::/3a6000/docs_uos_7.jpg[docs_uos_7.jpg]

全盘安装要求磁盘空间达到 64GB 及以上，若磁盘空间不足 64GB，无法使用全盘安装自动分区，请退回上一步，选择手动安装方式。

若只有一块磁盘时，选择磁盘后会自动为磁盘分区，将磁盘空间分配为“系统空间”和“数据空间”，点击系统空间右边的“编辑”按钮，可以调整“系统空间”的大小，如图：

image::/3a6000/docs_uos_8.jpg[docs_uos_8.jpg]

用户可根据自身使用系统的需要，调整合适的系统空间。

补充说明，此时的数据空间大小对应系统中的/data 分区大小，系统空间指除/data 分区外其他系统运行所需分区空间的总和，包括根分区、备用根分区、/efi、/boot、/swap、/recovery等，系统空间大小并非等于“系统盘”的大小。

image::/3a6000/docs_uos_9.jpg[docs_uos_9.jpg]

若有多块磁盘，可以将系统安装到 2 块磁盘中。选择一块磁盘设置成“系统盘”，选择另一块磁盘设置为“数据盘”，安装程序将会把系统安装到系统盘，把用户数据存放于数据盘。 

当计算机同时存在固态硬盘和机械硬盘时，会推荐您将系统安装到固态硬盘，将机械硬盘设置为数据盘。 

全盘安装方式中还提供了其他可选功能，给用户安装系统提供更多选择。

* i）全盘加密 

全盘安装时使用全盘加密，安装系统后将会对除系统启动所需分区外的其他分区进行整体加密，启动系统前需要先解密磁盘，即使拆除磁盘使用其他系统挂载，也需要先解密才可获取数据。使用全盘加密可以保护磁盘离线安全，提高数据安全性，且单磁盘安装和双磁盘安装均可使用全盘加密功能。 

在全盘安装界面会有磁盘加密单选框，勾选“全盘加密”后，单击“下一步”按钮，将会弹出全盘加密设置密码弹窗，需要提前设置磁盘加密的密码，如图：

image::/3a6000/docs_uos_10.jpg[docs_uos_10.jpg]

确认磁盘加密密码后继续安装系统的步骤，安装成功后，在系统启动时界面会出现密码输入框，如图：

image::/3a6000/docs_uos_11.jpg[docs_uos_11.jpg]

需输入全盘加密密码解密磁盘，输入正确的密码后才进入登录系统的步骤，全盘加密为系统提供了整体的安全保护。

* ii）启用系统扩容 

全盘安装时还提供“启用系统扩容”的选项，如图：

image::/3a6000/docs_uos_12.jpg[docs_uos_12.jpg]

用此方式安装完成后，系统将具备动态扩容的能力，可以使用统信 UOS Live 工具和磁盘管理器调整系统分区大小，使系统具备收放自如的能力，避免系统安装完成后遇到系统盘不足的窘境。 

启用系统扩容可能会影响磁盘读写性能以及系统启动性能，请谨慎使用。 

由于系统扩容需要使用 Live CD 工具，此处不做赘述，具体操作方式可咨询统信官方服务与支持。

* iii）保留用户数据 

如果设备中已安装统信桌面操作系统，上一次安装使用的是全盘安装的方式，且未进行全盘加密。在此硬件环境下重装统信桌面操作系统时，选择全盘安装，系统会检测到已存在用户目录，勾选“保留用户数据”，安装系统时会保留之前的用户数据。在后续的创建账户步骤中，创建与之前用户相同的用户名，安装完成进入系统后即可看到现有的用户数据。 

另外，若希望保留用户数据，需要保证系统分区与之前分区配置一致，因此不可以调整系统空间大小。


=== 手动安装

手动安装时需要用户手动创建分区，用户可根据所需配置系统。安装系统无需占用整块磁盘，用户可以自行配置各分区的大小、挂载点、文件系统等，手动创建分区时，统信桌面操作系统推荐如下配置分区： 

* 创建 boot 分区，/boot 分区是系统启动分区，必须是主分区中的第一个分区； 
* 根分区，根分区的大小建议在 15GB 以上； 
* 推荐创建 swap 分区，用于提高系统运行性能，建议大小为内存大小+2GB。

分区的操作

常用的分区操作有新建分区、编辑分区、删除分区等，具体操作方式如下：

* 新建分区：点击右侧的“+”按钮即弹出“新建分区”弹窗，设置新建分区的分区类型、分区位置、文件系统类型、挂载点和分区大小，如图：

image::/3a6000/docs_uos_13.jpg[docs_uos_13.jpg]

* 编辑分区：点击右侧的编辑按钮即弹出“编辑分区”弹窗，可以调整分区的文件系统、挂载点等； 
* 删除分区：点击右侧“-”删除按钮即删除分区； 
* 重置操作：点击右上角“重置列表”，清除当前对分区的操作，将磁盘还原到初始状态。

创建逻辑卷组

安装统信桌面操作系统时还可以使用逻辑卷分区进行安装，此功能可将不同磁盘中的物理分区组合成一个空间更大的逻辑卷组，把不同磁盘中的剩余空间化零为整，将零散的空间组合起来满足安装系统的需求。 

注意：使用逻辑卷组可能影响系统性能，如非必要，不建议使用此方式安装。 

具体的操作方式如下： 

* 新建分区时将分区格式设置为“lvm2 pv”，这种格式的分区可以进一步组合为逻辑卷组； 
* 点击右上角“创建逻辑卷”，此时只显示可选的 lvm2 pv 格式分区，选择分区，输入卷组名（默认：group1），点击“确定”，所选分区组合成逻辑卷组。如图：

image::/3a6000/docs_uos_14.jpg[docs_uos_14.jpg]

* 组合后的逻辑卷组显示在磁盘列表中，可继续使用逻辑卷组创建分区用于配置系统，如图：

image::/3a6000/docs_uos_15.jpg[docs_uos_15.jpg]

=== 创建帐户

完成系统磁盘配置后进入创建帐户步骤，用户需要设置用户头像、用户名、主机名、用户密码等，如图：

image::/3a6000/docs_uos_16.jpg[docs_uos_16.jpg]

默认系统语言为第一步所选语言，默认键盘布局根据所选语言自动匹配。 

默认时区为中国北京（UTC+8），点击窗口左下角第二个时区按钮，进入时区设置界面，用户可以在地图上单击选择自己所在的国家，会自动获取所选城市的时区，点击“确定”，会将所选时区设置为系统时区。如图：

image::/3a6000/docs_uos_17.jpg[docs_uos_17.jpg]

=== 准备安装

创建帐户完成后进入准备安装界面，此时提供“创建初始化备份”的勾选项，如图：

image::/3a6000/docs_uos_18.jpg[docs_uos_18.jpg]

为保障您的系统具备初始化恢复能力及其他备份还原功能，建议勾选“创建初始化备份”，安装时会自动备份出厂状态并保存在/recovery 分区中。

准备安装阶段会展示即将执行的分区操作，并会提醒用户做好数据备份，确认相关信息后，点击“继续安装”，系统正式进入安装过程。

=== 正式安装

确认安装后，系统将自动开始安装，在安装过程中，安装界面显示着当前的安装阶段、安装进度，并循环展示此版本系统的新功能和亮点功能，如图：

image::/3a6000/docs_uos_19.jpg[docs_uos_19.jpg]

安装过程不可退出，请不要操作计算机，耐心等待。

=== 安装结果

* 安装成功

当安装成功后，点击“立即重启”，系统会重新启动并进入统信操作系统桌面。为保证顺利进入系统，点击立即重启后，请尽快拔出启动 U 盘。

image::/3a6000/docs_uos_20.jpg[docs_uos_20.jpg]

* 安装失败

如果系统安装失败了，会出现安装失败提示信息和服务与支持二维码，可以扫描二维码上报错误问题。还可以将错误日志导出，保存到储存设备中，提供给技术支持工程师为您分析失败原因。

=== 登录系统

系统安装完成后，重启进入登录界面，如图：

image::/3a6000/docs_uos_21.jpg[docs_uos_21.jpg]

输入用户密码即可进入系统，您可以开始体验统信桌面操作系统。

= 麒麟 kylin桌面操作系统V10安装指导

== 安装盘制作

* 1）下载系统镜像iso文件

从官网下载银河麒麟桌面操作系统V10镜像文件，通过官网申请试用获取镜像文件。

* 2）U盘安装盘制作

准备 一个 4GB 以上的 U 盘，用UltraISO软件将其刻录至U盘，注意选择写入方式和引导扇区。

image::/3a6000/docs_kylin_1.jpg[docs_kylin_1.jpg]

①点击工具栏中打开镜像文件工具，然后在 “打开ISO文件”对话框中打开镜像文件：Kylin-Desktop-V10-SP1-2403-Release-20240506-loongarch64.is；

②点击菜单栏的“启动”，然后选择“写入硬盘映像...”，打开“写入硬盘映像”对话框

image::/3a6000/docs_kylin_2.jpg[docs_kylin_2.jpg]

③在写入硬盘映像对话框中，硬盘驱动器选择我们要写入的U盘，写入方式可以选择USB-HDD也可以选择USB-HDD+。

④点击“便捷启动”，然后再弹出的菜单中依次选择“写入新的驱动器引导扇区”，再选择“Syslinux”，这一步没有选择的话，最后制作的U盘映像将不能识别硬盘，不能安装系统。

⑤点击下面的“写入”按钮，开始U盘安装盘的制作。U盘安装盘的制作过程，Kylin系统的ISO镜像文件比较大，所以也比较耗时，在制作完成后，会自动关闭这个“写入硬盘映像”的对话框。

== 安装步骤

=== 引导

主机启动后，出现” LOONGSON龙芯 “字样，按 F2 键进入BIOS，如图：

image::/3a6000/docs_linux_1.jpg[docs_linux_1.jpg]

用键盘 上↑下 ↓ 键，移动到”启动管理“项，如图：

image::/3a6000/docs_linux_2.jpg[docs_linux_2.jpg]

按”Enter“键，进入”启动管理菜单“，

两种安装引导方式：光盘引导、U盘引导，选择其中一种安装方式引导。

用键盘 上↑下 ↓ 键，移动到”UEFI GeneraluDisk“项，如图：

image::/3a6000/docs_linux_3.jpg[docs_linux_3.jpg]

按”Enter“键，开始引导安装。