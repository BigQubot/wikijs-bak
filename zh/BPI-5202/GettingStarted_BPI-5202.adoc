= 镜像烧录

== 简述

镜像文件（扩展名为img格式文件），是指包含操作系统、接口驱动、应用服务软件的系统环境。

BPI-5202S嵌入式工业控制器有两个版本的镜像：

（1）cs5202ls-starter-install-tfcard.img是裸机的镜像，称为：裸版镜像；

（2）csgicls-install-tfcard.img是包含应用的镜像，称为：应用版镜像。

NOTE: 镜像文件可以联系供应商获取！裸版镜像文件大小约为2GB，应用版镜像文件大小约为4GB。

== 烧写镜像
BPI-5202 嵌入式工业控制器目前支持“SD卡/TF卡”烧写方式，通过烧录工具“Win32磁盘映像工具”可以制作“镜像启动盘”。

=== 制作U盘镜像启动盘
1、把SD/TF卡（至少8GB空间）插入一个USB接口的读卡器，Windows系统中，查看盘符（如：F）。
注意：烧写镜像会清空SD/TF盘中的数据！
2、运行“Win32磁盘映像工具Win32DiskImager”应用程序，如图：

image::/bpi-5202/docs_burn_1.png[docs_burn_1.png]

3、点击镜像文件后的，弹框中选择镜像文件：csgicls-install-tfcard.img，如图：

image::/bpi-5202/docs_burn1_2.png[docs_burn1_2.png]

4、点击设备后的，下拉框中选择U盘盘符，如图：

image::/bpi-5202/docs_burn1_3.png[docs_burn1_3.png]

5、点击“写入”按钮，弹框中点击“Yes，如图：

image::/bpi-5202/docs_burn_4.png[docs_burn_4.png]

6、开始写入镜像，有进度条线上，如图：

image::/bpi-5202/docs_burn_5.png[docs_burn_5.png]

7、写入完成后，弹框显示“写入成功.”，如图：

image::/bpi-5202/docs_burn_6.png[docs_burn_6.png]

=== U盘插入位置
将制作好的U盘镜像启动盘，插入CS5202LS嵌入式工业控制器标识为“1”的USB接口，如图：

注意：只有插入标识为“1”的USB接口，才能检测到U盘启动并自动安装。

image::/bpi-5202/docs_burn_7.png[docs_burn_7.png]

=== 烧写过程

BPI-5202嵌入式工业控制器加电启动，如果检测到标识为“1”的USB接口有插入U盘镜像启动盘，则会自动从U盘启动并开始自动安装，整个安装过程不需要认为介入。

[options="header",cols="1,1,4"]
|====
|Run灯	|Fn灯	|状态
|灭	|灭	|正在读取加载U盘过程中,时间较长
|心跳闪烁	|灭	|安装环境正在启动过程中
|心跳闪烁	|亮	|安装软件正在启动/安装过程中,时间较长
|心跳闪烁	|心跳闪烁	|安装成功了。可以断电了
|心跳闪烁	|灭	|安装失败了
|====

TIP: 在安装过程中，当 Fn灯亮时，开始烧写；当 Fn 灯灭时，表示失败；当 Fn 灯心跳闪烁时，表示烧写成功。

NOTE: 注意：
1、安装过程中不要断电。
2、U盘启动时会强行安装，不论BPI-5202硬盘上以前是否安装过，都会用U盘中的镜像重新安装，自动擦除sata硬盘上的已有的内容。
2、如果烧写成功后，需要及时将U盘拔出，否则再次启动时仍会再次安装。