= Introduction

The “OpenWrt One/AP-24.XY” router board based on MediaTek MT7981B (Filogic 820) SoC and MediaTek MT7976C dual-band WiFi 6 chipset.It is the first official development board of the OpenWRT open source community

OpenWrt One is a device based on the MediaTek Filogic 820 SoC that has WiFi 6, dual-band, 3×3/2×2, 1 x 2.5Gbit WAN, 1 x 1Gbit LAN, 1GB DDR4 RAM, 256 MiB NAND, 16 MiB NOR, M.2 SSD and USB 2.0.

OpenWrt One uses Mediatek’s MT7981B SoC with a dual-arm Cortex-a53 core at 1.3 GHz, 1 GB DDR4 RAM and 256 MiB SPI NAND storage. It also integrates 16 MiB of additional protected storage as a system backup, dual storage hardware to ensure that the onboard system is unbrickable, and finally integrated M.2. 2230/2242 NVMe PCIe 2 X1 ports can be used to add external storage. And with a battery holder for an internal clock, OpenWrt One offers a USB 2.0 Type-A and a mikroBUS expansion port to provide more interfaces to a host of technical possibilities

OpenWrt One is the first board design with OpenWrt opensource communtity.and designed in collaboration with Banana Pi that will also handle manufacturing and distribution of the router board. The OpenWrt One/AP-24.XY router should provide a source of income for the project, for example, to cover the cost of hosting and OpenWrt conferences, with Banana Pi selling the board through their distribution network, and for every device sold, donating to the Software Freedom Conservancy (SDC) with the funds earmarked for OpenWrt.

TIP: More Infomation: link:/en/OpenWRT-One/BananaPi_OpenWRT-One[Banana Pi OpenWrt One]

= Development

== Preparation
* Three antennas +
* USB flash drive or other USB storage devices +
* PD15V power adapter +
* USB Type C to Type A Cable +
* Ethernet cable +
* link:https://firmware-selector.openwrt.org/?version=SNAPSHOT&target=mediatek%2Ffilogic&id=openwrt_one[OpenWrt One image]

== bootstrap setting

NOTE: Please choose NAND for regular use. NOR is applicable to "recovery".

This switch enables the system to start from either NAND or NOR.

The up position of the dip switch indicates NAND, while the down position indicates NOR.

image::/openwrt-one/gettingstart/banana_pi_openwrt_one_gettingstart_bootstrap.jpg[banana_pi_openwrt_one_gettingstart_bootstrap.jpg]

== Debug Console

. Use Type A to convert to Type C for debugging

. Using your USB-Serial cable(3.3V TTL,Baud=115200) Connect to debug console on BPI-OpenWrt One
G=GND; RX=BPI-OpenWrt One input; TX=BPI-OpenWrt One output

image::/openwrt-one/gettingstart/banana_pi_openwrt_one_gettingstart_debug1.jpg[banana_pi_openwrt_one_gettingstart_debug1.jpg]

== Flashing image
NOTE: Factory image version：openwrt-24.10.0-rc2


TIP: link:https://firmware-selector.openwrt.org/?version=SNAPSHOT&target=mediatek%2Ffilogic&id=openwrt_one[You can also click here to select the OpenWrt version you need]

. Prepare a FAT32 format USB drive containing the following files:
+
link:https://downloads.openwrt.org/snapshots//targets/mediatek/filogic/openwrt-mediatek-filogic-openwrt_one-snand-preloader.bin[openwrt-mediatek-filogic-openwrt_one-snand-preloader.bin]
+
link:https://downloads.openwrt.org/snapshots//targets/mediatek/filogic/openwrt-mediatek-filogic-openwrt_one-factory.ubi[openwrt-mediatek-filogic-openwrt_one-factory.ubi]

. Please turn off the power of the equipment.

. Insert the USB drive that contains the two files to the TypeA.

. Set the  bootstrap to NOR.

. Press and hold the USER button on the front(The buttons on the side with the Type A interface).

. Connect the power supply and start the equipment.

. Wait for the LED to turn green.

. Simply release the USER button and the burning process will be completed successfully.

WARNING: If that doesn't work, then try another formatted storage option. Rename the file as:

openwrt-mediatek-filogic-openwrt_one-snand-preloader.bin

openwrt-mediatek-filogic-openwrt_one-factory.ubi

NOTE: If the system is successfully booted in, there will be this log.

```SH
starting USB...
Bus xhci@11200000: xhci-mtk xhci@11200000: hcd: 0x0000000011200000, ippc: 0x0000000011203e00
xhci-mtk xhci@11200000: ports disabled mask: u3p-0x1, u2p-0x0
xhci-mtk xhci@11200000: u2p:1, u3p:1
Register 200010f NbrPorts 2
Starting the controller
USB XHCI 1.10
scanning bus xhci@11200000 for devices... 2 USB Device(s) found
       scanning usb for storage devices... 1 Storage Device(s) found
234341 bytes read in 12 ms (18.6 MiB/s)
Erasing 0x00000000 ... 0x000fffff (8 eraseblock(s))
Writing 262144 byte(s) (128 page(s)) at offset 0x00000000
Writing 262144 byte(s) (128 page(s)) at offset 0x00040000
Writing 262144 byte(s) (128 page(s)) at offset 0x00080000
22151168 bytes read in 470 ms (44.9 MiB/s)
Erasing 0x00000000 ... 0x0fefffff (2040 eraseblock(s))
Writing 22151168 byte(s) (10816 page(s)) at offset 0x00000000
done
```


TIP: link:https://www.youtube.com/shorts/BLCLpHFkNl8[Reference for video effects] 

= Accessories

== KEY-M

. Prepare a NVME SSD
. Connect the SSD to the KEY-M interface on the board.
+
image::/openwrt-one/gettingstart/banana_pi_openwrt_one_gettingstart_key_m1.jpg[banana_pi_openwrt_one_gettingstart_key_m1.jpg]

. Start OpenWrt One and by using the command to query, you can see the corresponding storage.
+
```bash
root@OpenWrt:~#
root@OpenWrt:~# lsblk
NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
mtdblock0    31:0    0   256K  0 disk
mtdblock1    31:1    0   768K  1 disk
mtdblock2    31:2    0   512K  0 disk
mtdblock3    31:3    0  12.5M  0 disk
mtdblock4    31:4    0     1M  1 disk
mtdblock5    31:5    0   255M  0 disk
ubiblock0_4 254:0    0  10.3M  0 disk
fit0        259:0    0   4.8M  1 disk /rom
nvme0n1     259:1    0 119.2G  0 disk
root@OpenWrt:~# lspci
00:00.0 PCI bridge: MEDIATEK Corp. Device 1f32 (rev 01)
01:00.0 Non-Volatile memory controller: Solid State Storage Technology Corporation CL1-3D256-Q11 NVMe SSD M.2 (rev 03)
root@OpenWrt:~#
```


