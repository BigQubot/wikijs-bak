= Introduction

The Banana Pi R64 is a router based development board, which can run on a variety of open source operating systems including OpenWrt,Linux. It has 4 Gigabit LAN ports, 1 Gigabit WAN, and AC wifi AP function. use 64 bit chip design.

TIP: More Infomation: link:/en/BPI-R64/BananaPi_BPI-R64[Banana Pi BPI-R64]

== specifications

- MediaTek MT7622,1.35GHZ 64 bit dual-core ARM Cortex-A53
- 1G DDR3 SDRAM
- Mini PCIE interface support 4G module
- Built-in 4x4n 802.11n/Bluetooth 5.0 system-on-chip
- MTK7615 4x4ac wifi on board
- Support 1 SATA interface
- MicroSD slot supports up to 256GB expansion
- 8G eMMC flash (option 16/32/64G)
- 5 port 10/100/1000 Mb Ethernet port
- 1 Port USB 3.0
- Slow I/O:ADC, Audio Amplifier, GPIO, I2C, I2S, IR, PMIC I/F, PWM, RTC, SPI, UART
- POE function support

= Development
== Prepare

* Prepare 8G/above TF card, USB-Serial interface
* Using your USB-Serial Connect debug console on R64

== Linux
=== Install Image to SDcard
**Windows PC**

link:https://balena.io/etcher[Balena Etcher] is an opensource GUI flash tool by Balena, Flash OS images to SDcard or USB drive.

- Click on "**Flash from file**" to select image. 
- Click on "**Select target**" to select USB device. 
- Click on "**Flash!**" Start burning.

image::/picture/etcher.jpg[etcher.jpg]

**Linux**

bpi-copy

. Install bpi-tools. If you can't access this URL or any other problems, please go to bpi-tools repo and install this tools manually.
+
```sh
apt-get install pv
curl -sL https://github.com/BPI-SINOVOIP/bpi-tools/raw/master/bpi-tools | sudo -E bash
``` 
. After you download the image, insert your TF card into your Ubuntu.Execute
+
```sh
bpi-copy xxx.img /dev/sdx
```
install image on your TF card

dd

Mount SDcard device /dev/sdX partition if mounted automatically. Actually bpi-copy is the same as this dd command.
```sh
 $ sudo apt-get install pv unzip
 $ sudo unzip -p xxx-bpi-m5-xxx.img.zip | pv | dd of=/dev/sdX bs=10M status=noxfer
```

=== Install Image to eMMC
Before burning image to eMMC, please prepare a SD card with flashed bootable image and a USB disk. Let's take OpenWrt image (mtk-bpi-r64-preloader-emmc.bin,2020-04-09-OpenWRT-mtk-bpi-r64-EMMC.img) for example.

NOTE: Note: You can download the ".bin" file from github: https://github.com/BPI-SINOVOIP/BPI-R64-openwrt/tree/master/staging_dir/target-aarch64_cortex-a53_musl/image

. Insert the flashed SD card and power on to start the board.(the image on the SD card can be OpenWrt or other linux OS like ubuntu...)
. Copy eMMC bootable OpenWrt image(mtk-bpi-r64-preloader-emmc.bin,2020-04-09-OpenWRT-mtk-bpi-r64-EMMC.img) to USB disk, if the image is compressed please uncompress it before copying to USB disk.
. Plug in USB disk to the board, and mount the USB to /mnt or other directory as follows: (you can skip mounting if it is mounted automatically)
+
```sh
mount -t vfat /dev/sda1 /mnt 
cd /mnt
```
. Execute following command to enable and copy image to eMMC:
+
```sh
echo 0 > /sys/block/mmcblk0boot0/force_ro
dd if=2020-04-09-OpenWRT-mtk-bpi-r64-EMMC.img of=/dev/mmcblk0
dd if=mtk-bpi-r64-preloader-emmc.bin of=/dev/mmcblk0boot0
mmc bootpart enable 1 1 /dev/mmcblk0
```
. Shutdown, remove SD card and USB disk, and restart the board from eMMC.
