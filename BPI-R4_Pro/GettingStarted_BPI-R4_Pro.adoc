= Overview

Banana Pi BPI-R4Pro Router board with MediaTek MT7988A (Filogic 880) quad-core ARM Corex-A73 design ,4GB DDR4 RAM,8GB eMMC,128MB SPI-NAND flash onboard, also have 2x 10Gbe SFP, 4x Gbe network port,with USB3.2 port,M.2 support 4G/5G/NVME SSD.2x miniPCIe slots with PCIe3.0 2lane interface for Wi-Fi 7 NIC (Network Interface Card). It is a very high performance open source router development board.

TIP: More Infomation: link:https://docs.banana-pi.org/en/BPI-R4_Pro/BananaPi_BPI-R4_Pro[Banana Pi BPI-R4Pro]

== Block Diagram(8X)
image::/bpi-r4_pro/bpi-r4pro-block_diagram_8x.png[bpi-r4pro-block_diagram_8x.png,width=800]

= Development
== Prepare

* one 8G/above MicroSD card +
* USB TypeC cable +
* CAT6A Ethernet cable +
* 12V/5A power adapter +
(without any peripherals and network cable inset, the power consumption of BPI-R4Pro Main Board is about 10W, so 12V/2A will work. But you need to determine whether you need a higher power power adapter according to your own accessory usage,12V/5A is recommended) +
* Windows/Ubuntu System +
* link:https://docs.banana-pi.org/en/BPI-R4/BananaPi_BPI-R4#_system_image[Download the image] to be flashed


== BPI-R4Pro bootstrap setting
The tables below list the settings of the switch (SW3) and their functions. +

image::/bpi-r4_pro/bpi-r4pro-bootstrap3.png[bpi-r4pro-bootstrap3.png,width=300]

. All Jumper is "1", BPI-R4Pro will boot from SD card 
+
image::/bpi-r4_pro/bpi-r4pro-boot_for_sd.png[bpi-r4pro-boot_for_sd.png,width=800]


. SW3-A is "0" and SW3-B is "1" , BPI-R4Pro will boot from SPI NAND
+
image::/bpi-r4_pro/bpi-r4pro-boot_for_nand.png[bpi-r4pro-boot_for_nand.png,width=800]


. SW3-A is "1" and SW3-B is "0" , BPI-R4Pro will boot from eMMC
+
image::/bpi-r4_pro/bpi-r4pro-boot_for_emmc.png[bpi-r4pro-boot_for_emmc.png,width=800]


. If the console said "system halt!", it means that the bootup storage does not cotain any OS
+
```bash
  F0: 102B 0000
  FA: 5100 0000
  FA: 5100 0000 [0200]
  F9: 1041 0000
  F3: 1001 0000 [0200]
  F3: 1001 0000
  F6: 102C 0000
  F5: 1026 0000
  00: 1005 0000
  FA: 5100 0000
  FA: 5100 0000 [0200]
  F9: 1041 0000
  F3: 1001 0000 [0200]
  F3: 1001 0000
  F6: 102C 0000
  01: 102A 0001
  02: 1005 0000
  BP: 0200 00C0 [0001]
  EC: 0000 0000 [0000]
  MK: 0000 0000 [0000]
  T0: 0000 00D7 [0101]
  System halt!
```

== Power Supply

* Using your USB TypeC cable Connect to debug console(CN41) on BPI-R4Pro +
* Install Terminal Emulator or use a serial terminal that you are familiar with +
  change the setting as follows: Baud=115200,Data bits: 8bit,Parity: none,Stop: 1bit, Flow control: none;
* Set up the bootstrap switch before supplying power +


== Flashing image
=== How to flash image to SD card
=== How to flash image to NAND Flash
=== How to flash image to eMMC


= Interface

== 10G SFP+

== 10G RJ45

== 2.5G RJ45

== 1G RJ45

== 1G FPC Connector

== miniPCIe Slot(FOR WiFi NIC)

== M.2 B-KEY Slot(FOR 4G/5G Module)
=== SIM Slot
=== EXT SIM Slot
=== eSIM
=== 3.3V/3.95V Power
=== LED


== M.2 M-KEY Slot(FOR PCIe NVME SSD)

== USB connector
=== USB3.2 connector
=== USB2.0 connector

== USB TypC Debug Console connector

== USB TypC PD connector

== MicroSD Card

== FAN

== RTC

== Button
=== Reset
=== WPS

== DC-IN 

== DC-OUT

== LEDs

= PIN Definition 
== 26 Pin GPIO define(CON1)
== FAN (CN36/CN38)
== External LED connector(CN40)
== External SIM Card connector(CN45)
== DC-IN connector(CN44)
== DC-IN connector(CN6)
== DC-OUT connector(CN3)
== DC-OUT connector(CN2)
== 1G FPC Connector(CN37)

